<template>
  <div class="uk-section-primary tm-section-texture" uk-sticky>
    <navbar class="uk-navbar-transparent" />
  </div>

  <div class="uk-container">
    <div style="padding-top: 50px"></div>

    <article class="uk-article">
      <h1 class="uk-article-title uk-text-bold">Iris</h1>

      <p class="uk-text-lead">
        On this website, we provide internet scale route traces datasets and we offer
        researchers the ability to run their own measurements using our open-source platform Iris.
      </p>

      <hr class="uk-margin" />
      <h3 class="uk-h3 tm-heading-fragment">
        Get regular internet scale route trace datasets
      </h3>
      <p>
        Iris performs regular route traces of the load-balanced paths from a
        small number of vantage points to all routed IPv4 address prefixes. You
        can download these traces in a variety of formats, including
        <a href="https://atlas.ripe.net">RIPE Atlas JSON</a>,
        <a href="https://www.caida.org/catalog/software/scamper/"
          >Scamper Warts</a
        >, and
        <a
          href="https://gephi.org/users/supported-graph-formats/graphml-format/"
        >
          GraphML</a
        >
        for easy use with existing tools.
        We currently provide two datasets:
        <ul>
          <li>
            <b>Exhaustive</b>: we perform multipath traces towards every routed IPv4 address prefixes from our vantage point located in Paris at 100,000pps with ICMP probes.
            These measurements are made every weeks and discovers around 2 million IPv4 prefixes and 5 million links.
          </li>
          <li>
            <b>Zeph</b>: we perform multipath traces using our open-source orchestrator for distributed IP tracing <a href="https://github.com/dioptra-io/zeph">Zeph</a>
            based on a reiforcment learning approach to optimize the discovery of interfaces and links.
            We are able to rapidly ramp up the number of discovery up to 3 million nodes and 16 million links using 5 <a href="https://cloud.google.com" >GCP</a> instances probing at 100,000pps 2 millions prefixes with ICMP probes.
          </li>
        </ul>
      </p>

      <router-link
        v-if="!loggedIn"
        class="uk-button uk-button-primary"
        :to="{
          name: 'Register',
        }"
        ><span uk-icon="icon: sign-in"></span> Register</router-link
      >
      <router-link
        v-else-if="loggedIn && !verified"
        class="uk-button uk-button-primary"
        :to="{
          name: 'Profile',
        }"
        ><span uk-icon="icon: pencil"></span> Sign the license</router-link
      >
      <router-link
        v-if="loggedIn && verified"
        class="uk-button uk-button-primary"
        :to="{
          name: 'MeasurementsExhaustive',
        }"
        ><span uk-icon="icon: database"></span> Exhaustive</router-link
      >
      <span>&nbsp;</span>
      <router-link
        v-if="loggedIn && verified"
        class="uk-button uk-button-primary"
        :to="{
          name: 'MeasurementsZeph',
        }"
        ><span uk-icon="icon: database"></span> Zeph</router-link
      >

      <hr class="uk-margin" />
      <h3 class="uk-h3 tm-heading-fragment">
        Run your own measurements from agents across the internet
      </h3>
      <p>
        Iris offers a RESTful API for running your own IPv4 and IPv6 ping and
        route traces from the vantage points provided by the
        <a href="https://www.edge-net.org"> EdgeNet</a> testbed. If you prefer,
        you can use this website's graphical interface to run your measurements.
        <br />
        You can check the live status of the platform
        <a href="https://dioptra-io.github.io/iris-uptime/">here</a>.
      </p>
      <p></p>
      <a
        v-if="!loggedIn || (loggedIn && !probingEnabled)"
        class="uk-button uk-button-primary"
        href="mailto:iris@dioptra.io?subject=[iris] Probing capabilities"
        ><span uk-icon="icon: mail"></span> Contact us</a
      >
      <router-link
        v-else
        class="uk-button uk-button-primary"
        :to="{
          name: 'MeasurementsMine',
        }"
        ><span uk-icon="icon: bolt"></span> Run measurements</router-link
      >

      <hr class="uk-margin" />
      <h3 class="uk-h3 tm-heading-fragment">
        Contribute to Iris, or run your own instance
      </h3>
      <p>
        Iris is fully open-source, feel free to make you own changes to its
        code.<br />
        We also provide Docker images for the users who wants to run their own
        instance of Iris.
      </p>
      <a
        class="uk-button uk-button-default"
        href="https://github.com/dioptra-io/iris"
        ><span uk-icon="icon: github"></span> Github</a
      >
    </article>

    <hr class="uk-margin" />
    <h3 class="uk-h3 tm-heading-fragment">About Iris</h3>
    <p>
      Iris is an open-source internet measurement platform developed and
      maintained by the
      <a href="https://dioptra.io/">Dioptra</a> group at
      <a href="https://www.sorbonne-universite.fr">Sorbonne Universit√©</a>. Iris
      support multiple measurement tools, including
      <a href="https://github.com/dioptra-io/diamond-miner">Diamond-Miner</a>
      and <a href="https://github.com/cmand/yarrp">Yarrp</a> as well as constant-flow-id Ping.
    </p>
    <div style="padding-top: 50px"></div>
  </div>
</template>

<script>
export default {
  name: "Index",
  props: {
    msg: String,
  },
  computed: {
    loggedIn() {
      return this.$store.state.auth.status.loggedIn;
    },
    verified() {
      if (!this.$store.state.auth.user) {
        return false;
      }
      return this.$store.state.auth.user.is_verified;
    },
    probingEnabled() {
      if (!this.$store.state.auth.user) {
        return false;
      }
      return this.$store.state.auth.user.probing_enabled;
    },
  },
};
</script>
